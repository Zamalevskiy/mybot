import os
from aiogram import Router, types, F
from aiogram.types import FSInputFile
from aiogram.utils.keyboard import InlineKeyboardBuilder

router = Router()

# –ü—É—Ç—å –∫ –∫–∞—Ä—Ç–∏–Ω–∫–µ
IMAGE_PATH = os.path.join(os.path.dirname(__file__), "..", "assets", "images", "cabinet1.jpeg")

@router.callback_query(F.data == "chapter_13")
async def chapter_13_handler(callback: types.CallbackQuery):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
    if os.path.exists(IMAGE_PATH):
        file = FSInputFile(IMAGE_PATH)
        await callback.message.answer_photo(file)
    else:
        await callback.message.answer("‚ùå –§–∞–π–ª –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å.")

    # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞
    text = (
        "<b>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –ö—Ä–∏–∑–∏—Å–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ - —à–∞–≥ –∑–∞ —à–∞–≥–æ–º</b>\n\n"
        "–¢—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å¬ª.\n"
        "–≠—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è, –≥–ª—É–±–æ–∫–∞—è —Ä–∞–±–æ—Ç–∞, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä–æ–π —Ç—ã –≤—ã—Ö–æ–¥–∏—à—å —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º, "
        "—á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ—Ä–∂–∏—Ç —Ç–µ–±—è –≤ –∫—Ä–∏–∑–∏—Å–µ, –∏ —Å —á—ë—Ç–∫–∏–º –ø–ª–∞–Ω–æ–º, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ.\n\n"
        "<b>üß© 1. –§–∏–∫—Å–∞—Ü–∏—è –∏ —Å–±–æ—Ä –∫–∞—Ä—Ç–∏–Ω—ã</b>\n"
        "–ú—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å —Ç–æ–≥–æ, —á—Ç–æ –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ–º –≤—Å—ë –Ω–∞ –±–æ–ª—å—à–æ–π –ª–∏—Å—Ç –ê1: –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –¥–µ—Ç–∞–ª–∏, "
        "–∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ç–æ, —á—Ç–æ —Ç–µ–±—è —Ç—Ä–µ–≤–æ–∂–∏—Ç.\n"
        "–¢—ã –≤–∏–¥–∏—à—å –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π —Ü–µ–ª–æ—Å—Ç–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É - –±–µ–∑ —Ö–∞–æ—Å–∞ –∏ –∫—Ä—É–≥–æ–≤ –ø–æ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –º—ã—Å–ª—è–º.\n\n"
        "<b>üó∫Ô∏è 2. –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π</b>\n"
        "–°–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –æ–¥–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–µ: –≥–¥–µ –∫–æ—Ä–µ–Ω—å, –≥–¥–µ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, —á—Ç–æ —Ç—ã —Ä–µ–∞–ª—å–Ω–æ –º–æ–∂–µ—à—å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∞ —á—Ç–æ - –Ω–µ—Ç.\n"
        "–£–∂–µ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–π –≤—ã–¥–æ—Ö –∏ —è—Å–Ω–æ—Å—Ç—å.\n\n"
        "<b>üéØ 3. –í—ã—è–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π</b>\n"
        "–ù–∞—Ö–æ–¥–∏–º —Ç–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ—à–∞–µ—Ç - –Ω–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã, –∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–Ω–µ—à–Ω–∏–µ –±–ª–æ–∫–∏, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –∑–∞—Å—Ç—Ä—è–ª–∞.\n"
        "–ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –æ–¥–Ω–æ —Ç–æ—á–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–µ–Ω—è–µ—Ç –≤—Å—ë.\n\n"
        "<b>üÉè 4. –ö–æ—Ä–æ—Ç–∫–∞—è –ú–ê–ö-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</b>\n"
        "–ò—Å–ø–æ–ª—å–∑—É—é –º–µ—Ç–∞—Ñ–æ—Ä–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, —á—Ç–æ–±—ã –≤—ã—è–≤–∏—Ç—å –≥–ª—É–±–∏–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é —Å—Ñ–µ—Ä—É, –≥–¥–µ —Å—Ç–æ–∏—Ç –Ω–∞—á–∞—Ç—å.\n"
        "–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ–±–æ–π—Ç–∏ –∑–∞—â–∏—Ç—É —É–º–∞ –∏ —É–≤–∏–¥–µ—Ç—å —Å–∫—Ä—ã—Ç—É—é –¥–∏–Ω–∞–º–∏–∫—É.\n\n"
        "<b>ü™ú 5. –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –¥–µ–π—Å—Ç–≤–∏–π</b>\n"
        "–í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –ø–æ–Ω—è—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞: —á—Ç–æ –¥–µ–ª–∞—Ç—å, –≤ –∫–∞–∫–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, "
        "–∏ –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –∫—Ä–∏–∑–∏—Å–∞ –±–µ–∑ –Ω–∞–¥—Ä—ã–≤–∞.\n\n"
        "<b>üß† 6. –¢–µ–æ—Ä–∏—è + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</b>\n"
        "–Ø –¥–µ–ª—é—Å—å —Ä–∞–±–æ—á–∏–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏, –æ–±—ä—è—Å–Ω—è—é, –ø–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —É —Ç–µ–±—è, –∏ –∫–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –∏—Ö –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç—å.\n"
        "–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´—Ä–∞–∑–≥–æ–≤–æ—Ä¬ª, –∞ –Ω–∞—á–∞–ª–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.\n\n"
        "üåø –ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å\n"
        "–ß—ë—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –≥–¥–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è, –∫—É–¥–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è, –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –æ—â—É—â–µ–Ω–∏–µ: <b>¬´–Ø —Å–Ω–æ–≤–∞ —É–ø—Ä–∞–≤–ª—è—é —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é¬ª</b>.\n"
        "–ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å –æ—Ç–∫–ª–∏–∫ - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–ø–∏—Å–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å üëá"
    )

    # –ö–Ω–æ–ø–∫–∞ –∫ –æ–ø–ª–∞—Ç–µ
    builder = InlineKeyboardBuilder()
    builder.button(text="üëç –•–æ—á—É –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é", callback_data="chapter_12")
    builder.adjust(1)  # –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Ä—è–¥

    await callback.message.answer(text, reply_markup=builder.as_markup())
    await callback.answer()
